<!DOCTYPE html>
<title>AozoraRubyParser</title>
<meta charset="utf-8">
<style type="text/css">
textarea { width: 50%; height: 10em; }
</style>
<script type="application/javascript" src="../src/aozora-ruby-parser.js"></script>
<script type="application/javascript" src="../src/aozora-ruby-html.js"></script>
<script type="application/javascript" src="../src/aozora-ruby-pixiv.js"></script>
<script type="application/javascript">
(function(){
function getTextArea(id)
{
    "use strict";
    var base = document.getElementById(id);
    for (var n = 0; base.children.length; n++) {
        if (base.children[n].tagName === 'TEXTAREA') {
            return base.children[n];
        }
    }

    return false;
}

function updateAozora() {
    "use strict";
    var parser = new AozoraRubyParser(getTextArea("aozora").value);
    parser.parse();
    getTextArea("html").value  = parser.render(new AozoraRubyHTMLConverter);
    getTextArea("pixiv").value = parser.render(new AozoraRuby_pixivConverter);
}

setTimeout(function() {
    updateAozora();
    getTextArea("aozora").addEventListener("keyup", updateAozora, false);
    getTextArea("pixiv").addEventListener("keyup", updateAozora, false);
}, 100);
}())</script>

<h1>AozoraRubyParser</h1>
<fieldset id="aozora">
    <legend>Aozora</legend>
    <textarea>　この小説は、「健康道場」と称する或《あ》る療養所で病いと闘っている二十歳の男の子から、その親友に宛《あ》てた手紙の形式になっている。手紙の形式の小説は、これまでの新聞小説には前例が少かったのではなかろうかと思われる。だから、読者も、はじめの四、五回は少し勝手が違ってまごつくかも知れないが、しかし、手紙の形式はまた、現実感が濃いので、昔から外国に於《お》いても、日本に於いても多くの作者に依《よ》って試みられて来たものである。
「パンドラの匣《はこ》」という題に就《つい》ては、明日のこの小説の第一回に於て書き記してある筈《はず》だし、此処《ここ》で申上げて置きたい事は、もう何も無い。
　甚《はなは》だぶあいそな前口上でいけないが、しかし、こんなぶあいそな挨拶《あいさつ》をする男の書く小説が案外｜面白《おもしろ》い事がある。</textarea>
</fieldset>
<fieldset id="html">
    <legend>HTML</legend>
    <textarea readonly></textarea>
</fieldset>
<fieldset id="pixiv">
    <legend>pixiv</legend>
    <textarea readonly></textarea>
</fieldset>
